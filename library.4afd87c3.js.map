{"mappings":"gfACAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,SAIME,EAAQC,SAASC,cAAc,UAC/BC,EAAQF,SAASC,cAAc,mBAC/BE,EAASH,SAASC,cAAc,oBAChCG,EAAOJ,SAASC,cAAc,kBAC9BI,EAAQL,SAASC,cAAc,mBAC/BK,EAAaN,SAASC,cAAc,wBACpCM,EAAgBP,SAASC,cAAc,4BACvCO,EAAQR,SAASC,cAAc,mBAC/BQ,EAAWT,SAASC,cAAc,qBAElCS,EAAcV,SAASC,cAAc,sBACrCU,EAAaX,SAASC,cAAc,eACpCW,EAAaZ,SAASC,cAAc,eACpCY,EAAWb,SAASC,cAAc,aA0CxC,SAASa,IACPC,OAAOC,oBAAoB,UAAWC,GACtClB,EAAMmB,UAAUC,OAAO,iB,CAGzB,SAASF,EAAUG,GACF,WAAXA,EAAEC,MACJP,G,CA/CJJ,EAAYY,iBAAiB,QAASR,GACtCf,EAAMuB,iBAAiB,SAiCvB,SAA6BF,GACvBA,EAAEG,SAAWH,EAAEI,eACjBV,G,IAjCcd,SAASC,cAAc,sBAE/BqB,iBAAiB,SAAS,SAAAG,GAClC,IAAMC,EAAYD,EAAMF,OAAOI,QAAQ,aACvC,GAAKD,EAAL,CAEA,IAAME,EAAUF,EAAUG,QAAQC,GAElCC,QAAQC,IAAIJ,IACZ,EAAA9B,EAAAmC,SAAaL,GACVM,MAAK,SAAAC,GACJhC,EAAOiC,IAAM,kCAAmDC,OAAjBF,EAAKG,aACpDpC,EAAMqC,YAAcJ,EAAKK,MACzBpC,EAAKmC,YAAc,GAAqBF,OAAlBF,EAAKM,cAC3BpC,EAAMkC,YAAc,GAAmBF,OAAhBF,EAAKO,YAC5BpC,EAAWiC,YAAc,GAAmBF,OAAhBF,EAAKQ,YACjCpC,EAAcgC,YAAcJ,EAAKS,eACjCpC,EAAM+B,YAAcJ,EAAKU,OAAOC,KAAI,SAAAC,G,OAASA,EAAMC,I,IAAMC,KAAK,MAC9DxC,EAAS8B,YAAcJ,EAAKe,Q,IAE7BC,OAAM,SAAAC,GACLrB,QAAQqB,MAAMA,E,IAGlBzC,EAAW0C,aAAa,gBAAiBzB,GACzChB,EAAWyC,aAAa,gBAAiBzB,GACzCf,EAASwC,aAAa,gBAAiBzB,GAEvC7B,EAAMmB,UAAUoC,IAAI,iBAxBJ,C","sources":["src/lib.js","src/js/movie_modal.js"],"sourcesContent":["// import './js/pagination.js';\r\nimport './js/local-storage';\r\nimport './js/movie_modal';\r\nimport './js/team';\r\n// import './js/make-markup-card';\r\n// import './js/my-library-page-rendering';\r\nimport './js/show-trailer';\r\n\r\n","import getMovieById from './get-movie-by-id.js';\n// import getMovieByName from './get-movie-by-name.js';\n\n\nconst modal = document.querySelector('.modal');\nconst title = document.querySelector('.js-movie-title');\nconst poster = document.querySelector('.js-movie-poster');\nconst vote = document.querySelector('.js-movie-vote');\nconst votes = document.querySelector('.js-movie-votes');\nconst popularity = document.querySelector('.js-movie-popularity');\nconst originalTitle = document.querySelector('.js-movie-original-title');\nconst genre = document.querySelector('.js-movie-genre');\nconst overview = document.querySelector('.js-movie-excerpt');\n\nconst closeButton = document.querySelector('.modal__btn--close');\nconst trailerBtn = document.querySelector('.trailerBtn');\nconst watchedBtn = document.querySelector('.watchedBtn');\nconst queueBtn = document.querySelector('.queueBtn');\n\ncloseButton.addEventListener('click', closeModal);\nmodal.addEventListener('click', handleBackdropClick);\n\nconst movieList = document.querySelector('.js-movies-wrapper');\n\nmovieList.addEventListener('click', event => {\n  const movieCard = event.target.closest('.carditem');\n  if (!movieCard) return;\n\n  const movieId = movieCard.dataset.id;\n  // const movieId = '299536';\n  console.log(movieId)\n  getMovieById(movieId)\n    .then(data => {\n      poster.src = `https://image.tmdb.org/t/p/w500${data.poster_path}`;\n      title.textContent = data.title;\n      vote.textContent = `${data.vote_average}`;\n      votes.textContent = `${data.vote_count}`;\n      popularity.textContent = `${data.popularity}`;\n      originalTitle.textContent = data.original_title;\n      genre.textContent = data.genres.map(genre => genre.name).join(', ');\n      overview.textContent = data.overview;\n    })\n    .catch(error => {\n      console.error(error);\n    });\n\n  trailerBtn.setAttribute('data-movie-id', movieId);\n  watchedBtn.setAttribute('data-movie-id', movieId);\n  queueBtn.setAttribute('data-movie-id', movieId);\n\n  modal.classList.add('modal--visible');\n});\n\nfunction handleBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  window.removeEventListener('keydown', handleEsc);\n  modal.classList.remove('modal--visible');\n}\n\nfunction handleEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n"],"names":["parcelRequire","$joK0B","$2195fbec7147c9d6$var$modal","document","querySelector","$2195fbec7147c9d6$var$title","$2195fbec7147c9d6$var$poster","$2195fbec7147c9d6$var$vote","$2195fbec7147c9d6$var$votes","$2195fbec7147c9d6$var$popularity","$2195fbec7147c9d6$var$originalTitle","$2195fbec7147c9d6$var$genre","$2195fbec7147c9d6$var$overview","$2195fbec7147c9d6$var$closeButton","$2195fbec7147c9d6$var$trailerBtn","$2195fbec7147c9d6$var$watchedBtn","$2195fbec7147c9d6$var$queueBtn","$2195fbec7147c9d6$var$closeModal","window","removeEventListener","$2195fbec7147c9d6$var$handleEsc","classList","remove","e","code","addEventListener","target","currentTarget","event","movieCard","closest","movieId","dataset","id","console","log","default","then","data","src","concat","poster_path","textContent","title","vote_average","vote_count","popularity","original_title","genres","map","genre1","name","join","overview","catch","error","setAttribute","add"],"version":3,"file":"library.4afd87c3.js.map"}