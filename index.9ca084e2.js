!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a),a("2SMa7"),a("joK0B");var c=a("bpxeT"),i=a("2TvXO"),o="https://api.themoviedb.org/3",s="?api_key=f7d7a9b2e374f67b5381a74b61fb7dc2";function u(e){return l.apply(this,arguments)}function l(){return(l=e(c)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/search/movie").concat(s,"&query=").concat(t,"&language=en-US"));case 3:return r=e.sent,e.next=6,r.json();case 6:if(0!==(a=e.sent).results.length){e.next=9;break}throw new Error('No movies found with name "'.concat(t,'"'));case 9:return e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}c=a("bpxeT"),i=a("2TvXO");c=a("bpxeT");var d=a("8MBJY"),p=a("a2hTj"),f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e};i=a("2TvXO");var m=function(){"use strict";function n(){e(d)(this,n),e(f)(this,"BASE_URL","https://api.themoviedb.org/3"),e(f)(this,"API_KEY","?api_key=f7d7a9b2e374f67b5381a74b61fb7dc2"),e(f)(this,"page",1)}return e(p)(n,[{key:"fetchPopularMovies",value:function(){var n=this;return e(c)(e(i).mark((function t(){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n.BASE_URL,"/movie/popular").concat(n.API_KEY,"&page=").concat(n.page,"&language=en-US"));case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),t,null,[[0,9]])})))()}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),n}();a("4LMMA");c=a("bpxeT"),i=a("2TvXO"),c=a("bpxeT"),i=a("2TvXO");var v,h=a("6JpON"),g=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"},{id:18,name:"Drama"}],b=document.querySelector("#search-form"),y=document.querySelector(".js-movies-wrapper"),w=(document.querySelector("search__form"),v=e(c)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),y.innerHTML="",""!==(r=t.currentTarget.searchQuery.value.trim())){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,n.next=8,u(r);case 8:if(x(a=n.sent.results),a.length){n.next=14;break}return console.log("Movies not found!"),e(h).Notify.failure("Search result not successful. Enter the correct movie name."),n.abrupt("return");case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(5),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[5,16]])}))),function(e){return v.apply(this,arguments)});function x(e){var n=e.map((function(e){var n,t=new Date("".concat(e.release_date)).getFullYear(),r=e.genre_ids.map((function(e){var n=g.find((function(n){return n.id===e}));return n?n.name:""})),a="";return a=r.length>2?(n=r,n.slice(0,2)).join(", ")+", other":r.join(", "),'<div class="thumb">\n    <ul class="carditem" data-id=\''.concat(e.id,'\'>\n        <li class="cardimg-wrap">\n            <img src="https://image.tmdb.org/t/p/w500/').concat(e.poster_path,'" alt="poster of the movie ').concat(e.original_title,'"\n                class="cardimg"\n            />\n        </li>\n        <li class="cardtext-wrap">\n            <h2 class="cardname">').concat(e.original_title,'</h2>\n            <div class="cardinfo">\n                <p class="cardgenres">').concat(a,'</span></p>\n                <p class="cardyear">').concat(t,"</p>\n            </div>\n        </li>\n    </ul>\n</div>\n")})).join("");return y.insertAdjacentHTML("beforeend",n),n}b.addEventListener("submit",w);document.getElementById("uk");var T=new m,_=function(){var n=e(c)(e(i).mark((function n(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.fetchPopularMovies();case 3:x(e.sent.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();_(),a("h3EDF"),a("cDhZe"),a("9BcQi")}();
//# sourceMappingURL=index.9ca084e2.js.map
