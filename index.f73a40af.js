function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var r={id:e,exports:{}};return a[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},n.parcelRequired7c6=r),r("blQ2D"),r("9ihTn");async function i(e){try{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=f7d7a9b2e374f67b5381a74b61fb7dc2&query=${e}&language=en-US`),a=await n.json();if(0===a.results.length)throw new Error(`No movies found with name "${e}"`);return a}catch(e){console.log(e)}}r("b5rV1");var o=r("7Y9D8");const s=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"},{id:18,name:"Drama"}],c=document.querySelector("#search-form"),d=document.querySelector(".js-movies-wrapper");document.querySelector("search__form");function l(e){const n=e.map((e=>{const n=new Date(`${e.release_date}`).getFullYear(),a=e.genre_ids.map((e=>{const n=s.find((n=>n.id===e));return n?n.name:""}));let t="";var r;return t=a.length>2?(r=a,r.slice(0,2)).join(", ")+", other":a.join(", "),`<div class="thumb">\n    <ul class="carditem" data-id='${e.id}'>\n        <li class="cardimg-wrap">\n            <img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="poster of the movie ${e.original_title}"\n                class="cardimg"\n            />\n        </li>\n        <li class="cardtext-wrap">\n            <h2 class="cardname">${e.original_title}</h2>\n            <div class="cardinfo">\n                <p class="cardgenres">${t}</span></p>\n                <p class="cardyear">${n}</p>\n            </div>\n        </li>\n    </ul>\n</div>\n`})).join("");return d.insertAdjacentHTML("beforeend",n),n}c.addEventListener("submit",(async n=>{n.preventDefault(),d.innerHTML="";const a=n.currentTarget.searchQuery.value.trim();if(""!==a)try{const{results:n}=await i(a);if(l(n),!n.length)return console.log("Movies not found!"),void e(o).Notify.failure("Search result not successful. Enter the correct movie name.")}catch(e){console.log(e)}}));document.getElementById("uk");const m=new class{BASE_URL="https://api.themoviedb.org/3";API_KEY="?api_key=f7d7a9b2e374f67b5381a74b61fb7dc2";page=1;async fetchPopularMovies(){try{const e=await fetch(`${this.BASE_URL}/movie/popular${this.API_KEY}&page=${this.page}&language=en-US`);return await e.json()}catch(e){throw new Error(e.message)}}incrementPage(){this.page+=1}resetPage(){this.page=1}};(async()=>{try{const{results:e}=await m.fetchPopularMovies();l(e)}catch(e){console.log(e)}})(),r("cBSRC"),r("bBYeD"),r("3sLj0");
//# sourceMappingURL=index.f73a40af.js.map
