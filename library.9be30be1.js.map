{"mappings":"qhBACAA,EAAA,S,iCCDA,IAAAC,EAAAD,EAAA,S,0BAIA,MAAME,EAAiBC,SAASC,cAAc,kBACxCC,EAAiBF,SAASC,cAAc,wBACxCE,EAAeH,SAASC,cAAc,2BACtCG,EAAcJ,SAASC,cAAc,yBAW3C,SAASI,EAAyBC,GAKhC,GAJAA,EAAEC,iBAEFR,EAAeS,UAAY,GAEE,IAAzBV,EAAAW,cAAcC,OAKlB,OAAOC,EAAgBb,EAAAW,eAJrBG,G,CAqBJ,SAASA,IAIP,OAAOC,EAAAC,GAASC,OAAOC,QACrB,oD,CAIJ,SAASL,EAAgBM,GACvB,MAAMC,EAASD,EACZE,KAAIC,IACH,MACMC,EADO,IAAIC,KAAK,GAAGF,EAAMG,gBACbC,cAEZC,EAAcL,EAAMM,OAAOP,KAAIQ,GAASA,EAAMC,OACpD,IAAIC,EAAc,GAMlB,OAJEA,EADEJ,EAAYf,OAAS,GACT,EAAAoB,EAAAC,kBAAiBN,GAAaO,KAAK,MAAQ,UAE3CP,EAAYO,KAAK,MAE1B,kIAG2CZ,EAAMa,yCAAyCb,EAAMc,iKAKxEd,EAAMc,sGAEDL,uDACFR,6DAIlC,IAEDW,KAAK,IAGR,OADAjC,EAAeoC,mBAAmB,YAAajB,GACxCA,C,CA9EThB,EAAekC,iBAAiB,QAAS/B,GACzCF,EAAaiC,iBAAiB,QAAS/B,GACvCD,EAAYgC,iBAAiB,SAoB7B,WACErC,EAAeS,UAAY,GAE3B,IACE,GAA4B,IAAxBV,EAAAuC,aAAa3B,OAEf,YADAE,IAGFD,EAAgBb,EAAAuC,a,CAChB,MAAOC,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,KA5B7CtC,EAAekC,iBAAiB,QAAS/B,GAGzCM,EAAgBb,EAAAW,e","sources":["src/lib.js","src/js/my-library-page-rendering.js"],"sourcesContent":["// import './js/pagination.js';\r\nimport './js/get-popular-movies'\r\nimport './js/local-storage';\r\nimport './js/movie_modal';\r\nimport './js/team';\r\n// import './js/make-markup-card';\r\nimport './js/my-library-page-rendering';\r\nimport './js/show-trailer';\r\n\r\n","import { watchedMovies, queuedMovies } from './local-storage';\nimport Notiflix from 'notiflix';\nimport { createMarkUp, arrayLengthCheck } from './make-markup-card';\n\nconst movieWrapperEl = document.querySelector('.lib-container');\nconst myLibraryBtnEl = document.querySelector('.menu__link__library');\nconst watchedBtnEl = document.querySelector('.library__link__watched');\nconst queredBtnEl = document.querySelector('.library__link__queue');\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\nwatchedBtnEl.addEventListener('click', handleWatchedMoviesClick);\nqueredBtnEl.addEventListener('click', handleQueuedMoviesClick);\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\n// додати eventListiner до кнопок watched i quered\n\ncreateLibMarkUp(watchedMovies)\n\nfunction handleWatchedMoviesClick(e) {\n  e.preventDefault();\n\n  movieWrapperEl.innerHTML = '';\n\n  if (watchedMovies.length === 0) {\n    clearPage();\n    return;\n  }\n\n  return createLibMarkUp(watchedMovies);\n}\n\nfunction handleQueuedMoviesClick() {\n  movieWrapperEl.innerHTML = '';\n\n  try {\n    if (queuedMovies.length === 0) {\n      clearPage();\n      return;\n    }\n    createLibMarkUp(queuedMovies);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\nfunction clearPage() {\n  //   return  markUp = `<p>Sorry, there is no any movie in your library yet</p>\n  // <svg class=\"icon icon-images\"><use xlink:href=\"#icon-images\"></use></svg> `\n\n  return Notiflix.Notify.failure(\n    'Sorry, there is no any movie in your library yet.'\n  );\n}\n\nfunction createLibMarkUp(results) {\n  const markUp = results\n    .map(movie => {\n      const date = new Date(`${movie.release_date}`);\n      const year = date.getFullYear();\n\n      const genresArray = movie.genres.map(genre => genre.name);\n      let genresNames = '';\n      if (genresArray.length > 2) {\n        genresNames = arrayLengthCheck(genresArray).join(', ') + ', other';\n      } else {\n        genresNames = genresArray.join(', ');\n      }\n      return `<ul>\n    <li class=\"card__item\">\n        <div class=\"card__img-wrap\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\" alt=\"poster of the movie ${movie.original_title}\"\n                class=\"card__img\"\n            />\n        </div>\n        <div class=\"card__text-wrap\">\n            <h2 class=\"card__name\">${movie.original_title}</h2>\n            <div class=\"card__info\">\n                <p class=\"card__genres\">${genresNames}</span></p>\n                <p class=\"card__year\">${year}</p>\n            </div>\n        </div>\n    </li>\n</ul>`;\n    })\n    .join('');\n\n  movieWrapperEl.insertAdjacentHTML('beforeend', markUp);\n  return markUp;\n}\n"],"names":["parcelRequire","$b5rV1","$10d071d420e07e0c$var$movieWrapperEl","document","querySelector","$10d071d420e07e0c$var$myLibraryBtnEl","$10d071d420e07e0c$var$watchedBtnEl","$10d071d420e07e0c$var$queredBtnEl","$10d071d420e07e0c$var$handleWatchedMoviesClick","e","preventDefault","innerHTML","watchedMovies","length","$10d071d420e07e0c$var$createLibMarkUp","$10d071d420e07e0c$var$clearPage","$parcel$interopDefault","$7Y9D8","Notify","failure","results","markUp","map","movie","year","Date","release_date","getFullYear","genresArray","genres","genre","name","genresNames","$byXrN","arrayLengthCheck","join","poster_path","original_title","insertAdjacentHTML","addEventListener","queuedMovies","error","console","message"],"version":3,"file":"library.9be30be1.js.map"}