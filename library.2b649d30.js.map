{"mappings":"iiBACAA,EAAA,S,WCDA,IAAAC,EAAAD,EAAA,S,0BAIME,EAAiBC,SAASC,cAAc,kBACxCC,EAAiBF,SAASC,cAAc,wBACxCE,EAAeH,SAASC,cAAc,2BACtCG,EAAcJ,SAASC,cAAc,yBAa3C,SAASI,IACPN,EAAeO,UAAY,IAC3B,EAAAR,EAAAS,QACA,IACE,OAA6B,IAAzBC,EAAAC,cAAcC,YAChBC,IAIKC,EAAgBJ,EAAAC,c,CACvB,MAAOI,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,CAC1C,SACC,EAAAjB,EAAAkB,W,EAoBJ,SAASL,IAIP,OAAOM,EAAAC,GAASC,OAAOC,QACrB,oD,CAIJ,SAASR,EAAgBS,GACvB,IAAMC,EAASD,EACZE,KAAI,SAAAC,GACH,IAkCoBC,EAjCdC,EADO,IAAIC,KAAK,GAAsBC,OAAnBJ,EAAMK,eACbC,cAEZC,EAAcP,EAAMQ,OAAOT,KAAI,SAAAU,G,OAASA,EAAMC,I,IAChDC,EAAc,GAMlB,OAJEA,EADEJ,EAAYrB,OAAS,GA6BLe,EA5BaM,EA6B9BN,EAAMW,MAAM,EAAG,IA7B4BC,KAAK,MAAQ,UAE3CN,EAAYM,KAAK,MAE1B,mEAI2CT,OAFpBJ,EAAMc,GAAG,kGAE0DV,OAA/CJ,EAAMe,YAAY,+BAKvCX,OALoEJ,EAAMgB,eAAe,4IAOpFZ,OAFLJ,EAAMgB,eAAe,qFAGlBZ,OADEO,EAAY,qDACTP,OAALF,EAAK,6D,IAMtCW,KAAK,IAGR,OADAtC,EAAe0C,mBAAmB,YAAanB,GACxCA,C,CAvFTpB,EAAewC,iBAAiB,QAASrC,GACzCF,EAAauC,iBAAiB,QAASrC,GACvCD,EAAYsC,iBAAiB,SA0B7B,WACE3C,EAAeO,UAAY,IAC3B,EAAAR,EAAAS,QACA,IACE,GAA4B,IAAxBC,EAAAmC,aAAajC,OAEf,YADAC,IAGFC,EAAgBJ,EAAAmC,a,CAChB,MAAO9B,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,CAC1C,SACC,EAAAjB,EAAAkB,W,KApCJd,EAAewC,iBAAiB,QAASrC,IAEzC,EAAAP,EAAAS,SACA,EAAAT,EAAAkB,YAGAJ,EAAgBJ,EAAAC,e","sources":["src/lib.js","src/js/my-library-page-rendering.js"],"sourcesContent":["// import './js/pagination.js';\r\nimport './js/movie-modal.js';\r\nimport './js/local-storage.js';\r\nimport './js/my-library-page-rendering.js';\r\nimport './js/show-trailer.js';\r\nimport './js/team.js';\r\n\r\n","import { spin, stopSpin } from './notiflix-spin';\nimport { watchedMovies, queuedMovies } from './local-storage';\nimport Notiflix from 'notiflix';\n\nconst movieWrapperEl = document.querySelector('.lib-container');\nconst myLibraryBtnEl = document.querySelector('.menu__link__library');\nconst watchedBtnEl = document.querySelector('.library__link__watched');\nconst queredBtnEl = document.querySelector('.library__link__queue');\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\nwatchedBtnEl.addEventListener('click', handleWatchedMoviesClick);\nqueredBtnEl.addEventListener('click', handleQueuedMoviesClick);\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\n\nspin();\nstopSpin();\n// додати eventListiner до кнопок watched i quered\n\ncreateLibMarkUp(watchedMovies);\nfunction handleWatchedMoviesClick() {\n  movieWrapperEl.innerHTML = '';\n  spin();\n  try {\n    if (watchedMovies.length === 0) {\n      clearPage();\n      return;\n    }\n\n    return createLibMarkUp(watchedMovies);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  } finally {\n    stopSpin();\n  }\n}\n\nfunction handleQueuedMoviesClick() {\n  movieWrapperEl.innerHTML = '';\n  spin();\n  try {\n    if (queuedMovies.length === 0) {\n      clearPage();\n      return;\n    }\n    createLibMarkUp(queuedMovies);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  } finally {\n    stopSpin();\n  }\n}\n\nfunction clearPage() {\n  //   return  markUp = `<p>Sorry, there is no any movie in your library yet</p>\n  // <svg class=\"icon icon-images\"><use xlink:href=\"#icon-images\"></use></svg> `\n\n  return Notiflix.Notify.failure(\n    'Sorry, there is no any movie in your library yet.'\n  );\n}\n\nfunction createLibMarkUp(results) {\n  const markUp = results\n    .map(movie => {\n      const date = new Date(`${movie.release_date}`);\n      const year = date.getFullYear();\n\n      const genresArray = movie.genres.map(genre => genre.name);\n      let genresNames = '';\n      if (genresArray.length > 2) {\n        genresNames = arrayLengthCheck(genresArray).join(', ') + ', other';\n      } else {\n        genresNames = genresArray.join(', ');\n      }\n      return `\n      <div class=\"thumb\">\n    <ul class=\"carditem\" data-id='${movie.id}'>\n        <li class=\"cardimg-wrap\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\" alt=\"poster of the movie ${movie.original_title}\"\n                class=\"cardimg\"\n            />\n        </li>\n        <li class=\"cardtext-wrap\">\n            <h2 class=\"cardname\">${movie.original_title}</h2>\n            <div class=\"cardinfo\">\n                <p class=\"cardgenres\">${genresNames}</span></p>\n                <p class=\"cardyear\">${year}</p>\n            </div>\n        </li>\n    </ul>\n</div>`;\n    })\n    .join('');\n\n  movieWrapperEl.insertAdjacentHTML('beforeend', markUp);\n  return markUp;\n}\n\nfunction arrayLengthCheck(array) {\n  return array.slice(0, 2);\n}\n"],"names":["parcelRequire","$jMxVR","$81768bc9bc531f72$var$movieWrapperEl","document","querySelector","$81768bc9bc531f72$var$myLibraryBtnEl","$81768bc9bc531f72$var$watchedBtnEl","$81768bc9bc531f72$var$queredBtnEl","$81768bc9bc531f72$var$handleWatchedMoviesClick","innerHTML","spin","$4LMMA","watchedMovies","length","$81768bc9bc531f72$var$clearPage","$81768bc9bc531f72$var$createLibMarkUp","error","console","message","stopSpin","$parcel$interopDefault","$6JpON","Notify","failure","results","markUp","map","movie","array","year","Date","concat","release_date","getFullYear","genresArray","genres","genre","name","genresNames","slice","join","id","poster_path","original_title","insertAdjacentHTML","addEventListener","queuedMovies"],"version":3,"file":"library.2b649d30.js.map"}