{"mappings":"qhBACAA,EAAA,S,iCCDA,IAAAC,EAAAD,EAAA,S,aAGAE,EAAAC,GAASC,OAAOC,KAAK,CACnBC,MAAO,QACPC,SAAU,aACVC,SAAU,OACVC,QAAS,EACTC,QAAS,MAIX,MAAMC,EAAQC,SAASC,cAAc,UAC/BC,EAAiBF,SAASC,cAAc,kBACxCE,EAAiBH,SAASC,cAAc,wBACxCG,EAAeJ,SAASC,cAAc,2BACtCI,EAAcL,SAASC,cAAc,yBACrCK,EAAgBN,SAASC,cAAc,kBAS7C,SAASM,IACPR,EAAMS,aAAa,YAAa,WAChC,IACE,GAA6B,IAAzBnB,EAAAoB,cAAcC,OAEhB,YADAC,IAIFT,EAAeU,UAAY,GAC3BC,EAAgBxB,EAAAoB,c,CAChB,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAmB7C,SAASL,IACPrB,EAAAC,GAASC,OAAOyB,KAAK,oD,CAKvB,SAASJ,EAAgBK,GACvB,GAAuB,IAAnBA,EAAQR,OAEV,YADAJ,EAAca,UAAUC,OAAO,QAG/Bd,EAAca,UAAUE,IAAI,QAE9B,MAAMC,EAASJ,EACZK,KAAIC,IACH,MACMC,EADO,IAAIC,KAAK,GAAGF,EAAMG,gBACbC,cAEZC,EAAcL,EAAMM,OAAOP,KAAIQ,GAASA,EAAMC,OACpD,IAAIC,EAAc,GA8BxB,IAA0BC,EAxBpB,OAJED,EADEJ,EAAYnB,OAAS,GA6BLwB,EA5BaL,EA6B9BK,EAAMC,MAAM,EAAG,IA7B4BC,KAAK,MAAQ,UAE3CP,EAAYO,KAAK,MAE1B,kEAEuBZ,EAAMa,kGAEcb,EAAMc,yCAAyCd,EAAMe,yJAK1Ef,EAAMe,kGAEDN,qDACFR,6DAI/B,IAEFW,KAAK,IAGR,OADAlC,EAAesC,mBAAmB,YAAalB,GACxCA,C,CAnFTnB,EAAesC,iBAAiB,QAASlC,GACzCH,EAAaqC,iBAAiB,QAASlC,GACvCF,EAAYoC,iBAAiB,SAoB7B,WACE1C,EAAMS,aAAa,YAAa,SAChC,IACE,GAA4B,IAAxBnB,EAAAqD,aAAahC,OAEf,YADAC,IAIFT,EAAeU,UAAY,GAC3BC,EAAgBxB,EAAAqD,a,CAChB,MAAO5B,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,KA7B7Cb,EAAesC,iBAAiB,QAASlC,GAEzCM,EAAgBxB,EAAAoB,e","sources":["src/lib.js","src/js/my-library-page-rendering.js"],"sourcesContent":["// import './js/pagination.js';\r\nimport './js/authentication.js';\r\nimport './js/lib-render';\r\nimport './js/movie-modal.js';\r\nimport './js/local-storage.js';\r\nimport './js/my-library-page-rendering.js';\r\nimport './js/show-trailer.js';\r\nimport './js/team.js';\r\n\r\n","import { watchedMovies, queuedMovies } from './local-storage';\nimport Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'center-top',\n  distance: '10px',\n  opacity: 1,\n  timeout: 3000,\n  // ...\n});\n\nconst modal = document.querySelector('.modal');\nconst movieWrapperEl = document.querySelector('.lib-container');\nconst myLibraryBtnEl = document.querySelector('.menu__link__library');\nconst watchedBtnEl = document.querySelector('.library__link__watched');\nconst queredBtnEl = document.querySelector('.library__link__queue');\nconst noMoviesImgEl = document.querySelector('.no-movies-img');\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\nwatchedBtnEl.addEventListener('click', handleWatchedMoviesClick);\nqueredBtnEl.addEventListener('click', handleQueuedMoviesClick);\n\nmyLibraryBtnEl.addEventListener('click', handleWatchedMoviesClick);\n\ncreateLibMarkUp(watchedMovies);\nfunction handleWatchedMoviesClick() {\n  modal.setAttribute('data-page', 'watched');\n  try {\n    if (watchedMovies.length === 0) {\n      clearPage();\n      return;\n    }\n\n    movieWrapperEl.innerHTML = '';\n    createLibMarkUp(watchedMovies);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\nfunction handleQueuedMoviesClick() {\n  modal.setAttribute('data-page', 'queue');\n  try {\n    if (queuedMovies.length === 0) {\n      clearPage();\n      return;\n    }\n\n    movieWrapperEl.innerHTML = '';\n    createLibMarkUp(queuedMovies);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\nfunction clearPage() {\n  Notiflix.Notify.info('Sorry, there is no any movie in your library yet.');\n\n  return;\n}\n\nfunction createLibMarkUp(results) {\n  if (results.length === 0) {\n    noMoviesImgEl.classList.remove('hide');\n    return;\n  } else {\n    noMoviesImgEl.classList.add('hide');\n  }\n  const markUp = results\n    .map(movie => {\n      const date = new Date(`${movie.release_date}`);\n      const year = date.getFullYear();\n\n      const genresArray = movie.genres.map(genre => genre.name);\n      let genresNames = '';\n      if (genresArray.length > 2) {\n        genresNames = arrayLengthCheck(genresArray).join(', ') + ', other';\n      } else {\n        genresNames = genresArray.join(', ');\n      }\n      return `\n      <div class=\"thumb\">\n    <ul class=\"carditem\" data-id='${movie.id}'>\n        <li class=\"cardimg-wrap\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\" alt=\"poster of the movie ${movie.original_title}\"\n                class=\"cardimg\"\n            />\n        </li>\n        <li class=\"cardtext-wrap\">\n            <h2 class=\"cardname\">${movie.original_title}</h2>\n            <div class=\"cardinfo\">\n                <p class=\"cardgenres\">${genresNames}</span></p>\n                <p class=\"cardyear\">${year}</p>\n            </div>\n        </li>\n    </ul>\n</div>`;\n    })\n    .join('');\n\n  movieWrapperEl.insertAdjacentHTML('beforeend', markUp);\n  return markUp;\n}\n\nfunction arrayLengthCheck(array) {\n  return array.slice(0, 2);\n}\n"],"names":["parcelRequire","$b5rV1","$parcel$interopDefault","$7Y9D8","Notify","init","width","position","distance","opacity","timeout","$10d071d420e07e0c$var$modal","document","querySelector","$10d071d420e07e0c$var$movieWrapperEl","$10d071d420e07e0c$var$myLibraryBtnEl","$10d071d420e07e0c$var$watchedBtnEl","$10d071d420e07e0c$var$queredBtnEl","$10d071d420e07e0c$var$noMoviesImgEl","$10d071d420e07e0c$var$handleWatchedMoviesClick","setAttribute","watchedMovies","length","$10d071d420e07e0c$var$clearPage","innerHTML","$10d071d420e07e0c$var$createLibMarkUp","error","console","message","info","results","classList","remove","add","markUp","map","movie","year","Date","release_date","getFullYear","genresArray","genres","genre","name","genresNames","array","slice","join","id","poster_path","original_title","insertAdjacentHTML","addEventListener","queuedMovies"],"version":3,"file":"library.0586684b.js.map"}