{"mappings":"oeACAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,SAIA,MAAME,EAAQC,SAASC,cAAc,UAC/BC,EAAQF,SAASC,cAAc,mBAC/BE,EAASH,SAASC,cAAc,oBAChCG,EAAOJ,SAASC,cAAc,kBAC9BI,EAAQL,SAASC,cAAc,mBAC/BK,EAAaN,SAASC,cAAc,wBACpCM,EAAgBP,SAASC,cAAc,4BACvCO,EAAQR,SAASC,cAAc,mBAC/BQ,EAAWT,SAASC,cAAc,qBAElCS,EAAcV,SAASC,cAAc,sBACrCU,EAAaX,SAASC,cAAc,eACpCW,EAAaZ,SAASC,cAAc,eACpCY,EAAWb,SAASC,cAAc,aAExCS,EAAYI,iBAAiB,QAASC,GACtChB,EAAMe,iBAAiB,SAiCvB,SAA6BE,GACvBA,EAAEC,SAAWD,EAAEE,eACjBH,G,IAIJ,SAASA,IACPI,OAAOC,oBAAoB,UAAWC,GACtCtB,EAAMuB,UAAUC,OAAO,iB,CAGzB,SAASF,EAAUL,GACF,WAAXA,EAAEQ,MACJT,G,CA5Ccf,SAASC,cAAc,sBAE/Ba,iBAAiB,SAASW,IAClC,MAAMC,EAAYD,EAAMR,OAAOU,QAAQ,aACvC,IAAKD,EAAW,OAEhB,MAAME,EAAUF,EAAUG,QAAQC,GAElCC,QAAQC,IAAIJ,IACZ,EAAA9B,EAAAmC,SAAaL,GACVM,MAAKC,IACJhC,EAAOiC,IAAM,kCAAkCD,EAAKE,cACpDnC,EAAMoC,YAAcH,EAAKI,MACzBnC,EAAKkC,YAAc,GAAGH,EAAKK,eAC3BnC,EAAMiC,YAAc,GAAGH,EAAKM,aAC5BnC,EAAWgC,YAAc,GAAGH,EAAKO,aACjCnC,EAAc+B,YAAcH,EAAKQ,eACjCnC,EAAM8B,YAAcH,EAAKS,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,MAC9DvC,EAAS6B,YAAcH,EAAKc,QAAQ,IAErCC,OAAMC,IACLpB,QAAQoB,MAAMA,EAAM,IAGxBxC,EAAWyC,aAAa,gBAAiBxB,GACzChB,EAAWwC,aAAa,gBAAiBxB,GACzCf,EAASuC,aAAa,gBAAiBxB,GAEvC7B,EAAMuB,UAAU+B,IAAI,iBAAiB,I","sources":["src/lib.js","src/js/movie_modal.js"],"sourcesContent":["// import './js/pagination.js';\r\nimport './js/local-storage';\r\nimport './js/movie_modal';\r\nimport './js/team';\r\n// import './js/make-markup-card';\r\n// import './js/my-library-page-rendering';\r\nimport './js/show-trailer';\r\n\r\n","import getMovieById from './get-movie-by-id.js';\n// import getMovieByName from './get-movie-by-name.js';\n\n\nconst modal = document.querySelector('.modal');\nconst title = document.querySelector('.js-movie-title');\nconst poster = document.querySelector('.js-movie-poster');\nconst vote = document.querySelector('.js-movie-vote');\nconst votes = document.querySelector('.js-movie-votes');\nconst popularity = document.querySelector('.js-movie-popularity');\nconst originalTitle = document.querySelector('.js-movie-original-title');\nconst genre = document.querySelector('.js-movie-genre');\nconst overview = document.querySelector('.js-movie-excerpt');\n\nconst closeButton = document.querySelector('.modal__btn--close');\nconst trailerBtn = document.querySelector('.trailerBtn');\nconst watchedBtn = document.querySelector('.watchedBtn');\nconst queueBtn = document.querySelector('.queueBtn');\n\ncloseButton.addEventListener('click', closeModal);\nmodal.addEventListener('click', handleBackdropClick);\n\nconst movieList = document.querySelector('.js-movies-wrapper');\n\nmovieList.addEventListener('click', event => {\n  const movieCard = event.target.closest('.carditem');\n  if (!movieCard) return;\n\n  const movieId = movieCard.dataset.id;\n  // const movieId = '299536';\n  console.log(movieId)\n  getMovieById(movieId)\n    .then(data => {\n      poster.src = `https://image.tmdb.org/t/p/w500${data.poster_path}`;\n      title.textContent = data.title;\n      vote.textContent = `${data.vote_average}`;\n      votes.textContent = `${data.vote_count}`;\n      popularity.textContent = `${data.popularity}`;\n      originalTitle.textContent = data.original_title;\n      genre.textContent = data.genres.map(genre => genre.name).join(', ');\n      overview.textContent = data.overview;\n    })\n    .catch(error => {\n      console.error(error);\n    });\n\n  trailerBtn.setAttribute('data-movie-id', movieId);\n  watchedBtn.setAttribute('data-movie-id', movieId);\n  queueBtn.setAttribute('data-movie-id', movieId);\n\n  modal.classList.add('modal--visible');\n});\n\nfunction handleBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  window.removeEventListener('keydown', handleEsc);\n  modal.classList.remove('modal--visible');\n}\n\nfunction handleEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n"],"names":["parcelRequire","$9ihTn","$843a0641ab6143f6$var$modal","document","querySelector","$843a0641ab6143f6$var$title","$843a0641ab6143f6$var$poster","$843a0641ab6143f6$var$vote","$843a0641ab6143f6$var$votes","$843a0641ab6143f6$var$popularity","$843a0641ab6143f6$var$originalTitle","$843a0641ab6143f6$var$genre","$843a0641ab6143f6$var$overview","$843a0641ab6143f6$var$closeButton","$843a0641ab6143f6$var$trailerBtn","$843a0641ab6143f6$var$watchedBtn","$843a0641ab6143f6$var$queueBtn","addEventListener","$843a0641ab6143f6$var$closeModal","e","target","currentTarget","window","removeEventListener","$843a0641ab6143f6$var$handleEsc","classList","remove","code","event","movieCard","closest","movieId","dataset","id","console","log","default","then","data","src","poster_path","textContent","title","vote_average","vote_count","popularity","original_title","genres","map","genre1","name","join","overview","catch","error","setAttribute","add"],"version":3,"file":"library.5b2d8776.js.map"}